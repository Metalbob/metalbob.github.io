<!DOCTYPE html>
<html lang="fr">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Julien Falcioni - Game Developer</title>
		<link rel="stylesheet" href="styles.css">
	</head>
	<body>

		<script src="functions.js"></script>
		<script src="script.js"></script>

		<div id="slider-container">
			<div id="header-title">
				<h1>Julien Falcioni</h1>
				<h1>Game Developer</h1>
			</div>
		  <div id="slider">
				<script>
					function imageExist(url)
					{
						var http = new XMLHttpRequest();
						try {
							http.open('HEAD', url, false);
						} catch (e) {
							return false;
						}
						http.send();
						if (http.status === 200) {
						   return true;
						   //This file exist!
						} else {
						   return false;
						   //This file does not exist!
						}
					}

					const sliderContainer = document.getElementById("slider");
					for (var imageIndex = 0; imageExist("resources/banner_images/" + imageIndex + ".webp") ; imageIndex++)
					{
						var imageDiv = document.createElement("div");
						imageDiv.classList.add('parallelogram');
						sliderContainer.appendChild(imageDiv);

						var imageImg = document.createElement("img");
						imageImg.src = "resources/banner_images/" + imageIndex + ".webp";
						imageDiv.appendChild(imageImg);
				}

				</script>
		  </div>
		</div>

		<script>
			// Sélectionner le conteneur slider et les éléments parallélogrammes
			const slider = document.getElementById("slider");
			const parallelograms = document.querySelectorAll('.parallelogram');

			// Paramètres de l'animation
			const speed = 2; // Vitesse de défilement (pixels par frame)
			const containerWidth = slider.offsetWidth;
			const parallelogramWidth = 500; // Largeur de chaque parallélogramme
			let positions = [];

			// Initialiser les positions des parallélogrammes
			parallelograms.forEach((parallelogram, index) => {
				let startX = index * (parallelogramWidth) - 150; // Espacement entre parallélogrammes
				positions.push(startX);
				parallelogram.style.transform = `translateX(${startX}px) skewX(-45deg)`; // Position initiale
			});

			// Fonction pour déplacer les parallélogrammes
			function animateSlider() {
				parallelograms.forEach((parallelogram, index) => {
						// Mettre à jour la position
						positions[index] -= speed;

						// Si l'élément sort complètement de l'écran, le replacer à droite
						if (positions[index] + parallelogramWidth + 150 < 0) {
								positions[index] = parallelogramWidth * (parallelograms.length - 1) - 152;
								console.log(positions[index]);
						}

						// Appliquer la transformation avec le skew
						parallelogram.style.transform = `translateX(${positions[index]}px) skewX(-45deg)`;
				});

				// Redemander une frame pour continuer l'animation
				requestAnimationFrame(animateSlider);
			}

			// Lancer l'animation
			requestAnimationFrame(animateSlider);
		</script>


		<!--<script>insertHeader();</script>-->

		<div class="timeline">
			<div id="timeline-container">

			</div>
		</div>

		<div id="project-details">
			<div id="project-header"></div>

			<div id="project-summary"></div>

			<div id="project-description" frameborder="0"></div>
		</div>
	</body>
</html>
